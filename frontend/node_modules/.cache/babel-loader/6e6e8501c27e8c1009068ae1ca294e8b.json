{"ast":null,"code":"var _jsxFileName = \"/Users/deanerfree/projects/multistep/frontend/src/components/Form.js\";\nimport \"../App.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { CircularProgress } from \"@mui/material\";\nimport { Card, CardContent, Button, Box } from \"@material-ui/core\";\nimport { ThemeProvider, createTheme, responsiveFontSizes } from \"@mui/material/styles\";\nimport theme from \"../styles/theme\";\nimport { Form, Formik } from \"formik\";\nimport { validation } from \"../Functions/validationSchema\";\nimport initialFormField from \"../model/initialFormModel\";\nimport formStepper from \"../Functions/formStepper\";\nimport FormResult from \"./FormResult\";\nexport default function UserForm() {\n  const [activeStep, setActiveStep] = useState(0);\n  const [responseData, setResponseData] = useState([]);\n  const currentValidationSchema = validation[activeStep]; // const numVal = /[1-9][0-9]/\n\n  let theme = createTheme();\n  theme = responsiveFontSizes(theme);\n  theme.typography.h2 = {\n    fontSize: \"1.2rem\",\n    \"@media (min-width:800px)\": {\n      fontSize: \"30px\"\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"50px\"\n    }\n  };\n\n  const _stepBack = () => {\n    if (activeStep === 0) return;\n    setActiveStep(activeStep - 1);\n  };\n\n  async function _submitForm(values, actions) {\n    if (values.age === \"\") {\n      values.age = 0;\n    }\n\n    axios.post(\"/api/create\", values).then(resp => {\n      if (resp.status === 200) {\n        setResponseData(resp);\n        setActiveStep(activeStep + 1);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    actions.setSubmitting(false);\n  }\n\n  function _handleSubmit(values, actions) {\n    if (activeStep === 2) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, activeStep === 3 ? /*#__PURE__*/React.createElement(FormResult, {\n    props: {\n      responseData\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }) : /*#__PURE__*/React.createElement(Formik, {\n    initialValues: { ...initialFormField\n    },\n    validationSchema: currentValidationSchema,\n    onSubmit: _handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }\n  }, ({\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    autoComplete: \"off\",\n    className: \"formWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: \"formBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 10\n    }\n  }, formStepper(activeStep)), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 10\n    }\n  }, isSubmitting ? /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 12\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttonWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 12\n    }\n  }, activeStep === 0 ? null : /*#__PURE__*/React.createElement(Button, {\n    onClick: _stepBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 14\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(Button, {\n    disabled: isSubmitting,\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 14\n    }\n  }, activeStep === 2 ? \"Submit\" : \"Next\"))))))));\n}","map":{"version":3,"sources":["/Users/deanerfree/projects/multistep/frontend/src/components/Form.js"],"names":["React","useState","axios","CircularProgress","Card","CardContent","Button","Box","ThemeProvider","createTheme","responsiveFontSizes","theme","Form","Formik","validation","initialFormField","formStepper","FormResult","UserForm","activeStep","setActiveStep","responseData","setResponseData","currentValidationSchema","typography","h2","fontSize","breakpoints","up","_stepBack","_submitForm","values","actions","age","post","then","resp","status","catch","err","console","log","setSubmitting","_handleSubmit","setTouched","isSubmitting"],"mappings":"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","sourcesContent":["import \"../App.css\"\nimport React, { useState } from \"react\"\nimport axios from \"axios\"\nimport { CircularProgress } from \"@mui/material\"\nimport { Card, CardContent, Button, Box } from \"@material-ui/core\"\nimport {\n\tThemeProvider,\n\tcreateTheme,\n\tresponsiveFontSizes,\n} from \"@mui/material/styles\"\nimport theme from \"../styles/theme\"\nimport { Form, Formik } from \"formik\"\nimport { validation } from \"../Functions/validationSchema\"\nimport initialFormField from \"../model/initialFormModel\"\nimport formStepper from \"../Functions/formStepper\"\nimport FormResult from \"./FormResult\"\n\nexport default function UserForm() {\n\tconst [activeStep, setActiveStep] = useState(0)\n\tconst [responseData, setResponseData] = useState([])\n\tconst currentValidationSchema = validation[activeStep]\n\t// const numVal = /[1-9][0-9]/\n\tlet theme = createTheme()\n\ttheme = responsiveFontSizes(theme)\n\ttheme.typography.h2 = {\n\t\tfontSize: \"1.2rem\",\n\t\t\"@media (min-width:800px)\": {\n\t\t\tfontSize: \"30px\",\n\t\t},\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tfontSize: \"50px\",\n\t\t},\n\t}\n\tconst _stepBack = () => {\n\t\tif (activeStep === 0) return\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tasync function _submitForm(values, actions) {\n\t\tif (values.age === \"\") {\n\t\t\tvalues.age = 0\n\t\t}\n\n\t\taxios\n\t\t\t.post(\"/api/create\", values)\n\t\t\t.then((resp) => {\n\t\t\t\tif (resp.status === 200) {\n\t\t\t\t\tsetResponseData(resp)\n\t\t\t\t\tsetActiveStep(activeStep + 1)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\n\t\tactions.setSubmitting(false)\n\t}\n\n\tfunction _handleSubmit(values, actions) {\n\t\tif (activeStep === 2) {\n\t\t\t_submitForm(values, actions)\n\t\t} else {\n\t\t\tsetActiveStep(activeStep + 1)\n\t\t\tactions.setTouched({})\n\t\t\tactions.setSubmitting(false)\n\t\t}\n\t}\n\treturn (\n\t\t<Card>\n\t\t\t<CardContent className='wrapper'>\n\t\t\t\t{activeStep === 3 ? (\n\t\t\t\t\t<FormResult props={{ responseData }} />\n\t\t\t\t) : (\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tinitialValues={{ ...initialFormField }}\n\t\t\t\t\t\tvalidationSchema={currentValidationSchema}\n\t\t\t\t\t\tonSubmit={_handleSubmit}>\n\t\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t\t<Form autoComplete='off' className='formWrapper'>\n\t\t\t\t\t\t\t\t\t<Box className='formBody'>{formStepper(activeStep)}</Box>\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className='buttonWrapper'>\n\t\t\t\t\t\t\t\t\t\t\t\t{activeStep === 0 ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={_stepBack}>Back</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{activeStep === 2 ? \"Submit\" : \"Next\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Formik>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}