{"ast":null,"code":"var _jsxFileName = \"/Users/deanerfree/projects/multistep/frontend/src/components/Form.js\";\nimport \"../App.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { CircularProgress } from \"@mui/material\";\nimport { Card, CardContent, Button, Box } from \"@material-ui/core\";\nimport { Form, Formik } from \"formik\";\nimport { validation } from \"../Functions/validationSchema\";\nimport initialFormField from \"../model/initialFormModel\";\nimport formStepper from \"../Functions/formStepper\";\nexport default function UserForm() {\n  const [activeStep, setActiveStep] = useState(0);\n  const currentValidationSchema = validation[activeStep]; // const numVal = /[1-9][0-9]/\n\n  const _stepBack = () => {\n    if (activeStep === 0) return;\n    setActiveStep(activeStep - 1);\n  };\n\n  function _sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function _submitForm(values, actions) {\n    const date = new Date();\n    console.log(values);\n    axios.post(\"/api/create\", values).then(resp => {\n      console.log(resp);\n    }).catch(err => {\n      console.log(err);\n    });\n    await _sleep(1000);\n    alert(JSON.stringify(values, null, 2));\n    actions.setSubmitting(false);\n  }\n\n  function _handleSubmit(values, actions) {\n    if (activeStep === 2) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: { ...initialFormField\n    },\n    validationSchema: currentValidationSchema,\n    onSubmit: _handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, ({\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(Form, {\n    autoComplete: \"off\",\n    className: \"formWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 8\n    }\n  }, formStepper(activeStep)), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, isSubmitting ? /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttonWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }\n  }, activeStep === 0 ? null : /*#__PURE__*/React.createElement(Button, {\n    onClick: _stepBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(Button, {\n    disabled: isSubmitting,\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, activeStep === 2 ? \"Submit\" : \"Next\")))))));\n}","map":{"version":3,"sources":["/Users/deanerfree/projects/multistep/frontend/src/components/Form.js"],"names":["React","useState","axios","CircularProgress","Card","CardContent","Button","Box","Form","Formik","validation","initialFormField","formStepper","UserForm","activeStep","setActiveStep","currentValidationSchema","_stepBack","_sleep","ms","Promise","resolve","setTimeout","_submitForm","values","actions","date","Date","console","log","post","then","resp","catch","err","alert","JSON","stringify","setSubmitting","_handleSubmit","setTouched","isSubmitting"],"mappings":"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","sourcesContent":["import \"../App.css\"\nimport React, { useState } from \"react\"\nimport axios from \"axios\"\nimport { CircularProgress } from \"@mui/material\"\nimport { Card, CardContent, Button, Box } from \"@material-ui/core\"\nimport { Form, Formik } from \"formik\"\nimport { validation } from \"../Functions/validationSchema\"\nimport initialFormField from \"../model/initialFormModel\"\nimport formStepper from \"../Functions/formStepper\"\n\nexport default function UserForm() {\n\tconst [activeStep, setActiveStep] = useState(0)\n\tconst currentValidationSchema = validation[activeStep]\n\t// const numVal = /[1-9][0-9]/\n\n\tconst _stepBack = () => {\n\t\tif (activeStep === 0) return\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tfunction _sleep(ms) {\n\t\treturn new Promise((resolve) => setTimeout(resolve, ms))\n\t}\n\n\tasync function _submitForm(values, actions) {\n\t\tconst date = new Date()\n\t\tconsole.log(values)\n\t\taxios\n\t\t\t.post(\"/api/create\", values)\n\t\t\t.then((resp) => {\n\t\t\t\tconsole.log(resp)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\tawait _sleep(1000)\n\t\talert(JSON.stringify(values, null, 2))\n\t\tactions.setSubmitting(false)\n\t}\n\n\tfunction _handleSubmit(values, actions) {\n\t\tif (activeStep === 2) {\n\t\t\t_submitForm(values, actions)\n\t\t} else {\n\t\t\tsetActiveStep(activeStep + 1)\n\t\t\tactions.setTouched({})\n\t\t\tactions.setSubmitting(false)\n\t\t}\n\t}\n\treturn (\n\t\t<Card>\n\t\t\t<CardContent className='wrapper'>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{ ...initialFormField }}\n\t\t\t\t\tvalidationSchema={currentValidationSchema}\n\t\t\t\t\tonSubmit={_handleSubmit}>\n\t\t\t\t\t{({ isSubmitting }) => (\n\t\t\t\t\t\t<Form autoComplete='off' className='formWrapper'>\n\t\t\t\t\t\t\t<div className='formBody'>{formStepper(activeStep)}</div>\n\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className='buttonWrapper'>\n\t\t\t\t\t\t\t\t\t\t{activeStep === 0 ? null : (\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={_stepBack}>Back</Button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tsize='small'>\n\t\t\t\t\t\t\t\t\t\t\t{activeStep === 2 ? \"Submit\" : \"Next\"}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}